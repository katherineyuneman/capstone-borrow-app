(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{46:function(e,n,t){},47:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a,c,o,r,i,s=t(27),l=t.n(s),d=(t(46),t(4)),b=t(0),u=(t(47),t(6)),j=t(20),h=t(21),p=h.a.div(a||(a=Object(j.a)(["\n@import url('https://fonts.googleapis.com/css2?family=Bungee+Shade&family=Libre+Barcode+39+Text&family=Montserrat:ital,wght@1,500&family=Playfair+Display:ital,wght@1,800&display=swap');\n  background: white;\n  color: #000000;\n  font-family: 'Montserrat';\n  font-size: 18px;\n"]))),f=h.a.div(c||(c=Object(j.a)(['\nfloat: center;\njustify-content: center;\nmargin-left: auto;\nmargin-right: auto;\n  h1{\n    text-align: center;\n    justify-content: center;\n    background: white;\n    color: green;\n  };\n  .rental {\n    /* Add shadows to create the "card" effect */\n    margin-left: auto;\n    margin-right: auto;\n    /* padding: 50px; */\n    text-align: center;\n    justify-content: center;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);\n    transition: 0.3s;\n    flex-wrap: wrap;\n    width: 50%;\n    height: 180px;\n    font-size: 12px;\n    justify-content: center;\n  };\n  img {\n    width: 10%;\n    height: auto;\n  }\n  ']))),g=h.a.div(o||(o=Object(j.a)(['\n/* margin-top: 75px; */\nmargin-left: 75px;\nfloat: center;\njustify-content: center;\n  h1{\n    text-align: center;\n    justify-content: center;\n    background: white;\n    color: green;\n  }\n  .card {\n    /* Add shadows to create the "card" effect */\n    box-shadow: 0 4px 10px 0 rgba(0,0,0,0.2);\n    transition: 0.3s;\n    flex-wrap: wrap;\n    width: 180px;\n    height: 400px;\n    font-size: 12px;\n    justify-content: center;\n\n  };\n  .container {\n      padding: 2px 25px;\n      /* display: block; */\n      float: left;\n      height: auto;\n      padding-bottom: 25px;\n    };\n    .title{\n      height: 275px;\n      margin: auto;\n      justify-content: center;\n      img {\n      margin: auto;\n      justify-content: center;\n      width: 100%;\n      height: auto;\n  }\n  .author{\n        height: 150px;\n        /* margin: auto;\n        justify-content: center; */\n      }\n    }\n  .card button {\n  margin-bottom: 1em;\n  border: none;\n  outline: 0;\n  padding-top: 20px;\n  padding-bottom: 25px;\n  color: white;\n  background-color: #000;\n  text-align: center;\n  cursor: pointer;\n  width: 100%;\n}\n.card button:hover {\n  opacity: 0.7;\n  color: #fb5958;\n};\n.card .wishlist {\n  border: none;\n  outline: 0;\n  padding-top: 20px;\n  padding-bottom: 25px;\n  color: white;\n  background-color: gray;\n  text-align: center;\n  width: 100%;\n}\n.backpackContainer button {\n  border: none;\n  outline: 0;\n  padding-top: 20px;\n  padding-bottom: 25px;\n  color: white;\n  background-color: gray;\n  text-align: center;\n  margin: auto;\n  justify-content: center;\n  cursor: pointer;\n  float: center;\n  flex-wrap: wrap;\n  display: block;\n  /* width: 100%; */\n  height: 5%;\n}\n.backpackContainer button:hover {\n  opacity: 0.7;\n  color: #fb5958;\n};\n']))),O=h.a.div(r||(r=Object(j.a)(["\npadding: 20px;\nwidth: 100%;\nbackground-color: #fb5958;\nmargin: auto;\ntext-align: center;\ncolor: white\n"]))),x=h.a.div(i||(i=Object(j.a)(["\n  /* padding: 5px; */\n  margin-bottom:-1em;\n  .backpack{\n    margin-right: -3em;\n    float: right;\n    img {\n      width: 25%;\n      /* height: 25%; */\n    }\n  };\n  nav {\n    float: right;\n    margin-right: 0em;\n    margin-left: 0em;\n}\n  nav ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n  nav ul li {\n    float: left;\n    position: relative 30px;\n    /* background-color: #63D6E0; */\n  }\n  nav ul li a {\n    display: block;\n    padding: 0 20px;\n    line-height: 75px;\n    background: #ffffff;\n    color: #463f3f;\n    text-decoration: none;\n    /*\n    The full path of this code is nav ul li a:not(:only-child):after. This means that the code will apply to any a tag in our nav list that is NOT an only child, aka any dropdown. The :after means it comes after the output of the tag. I\u2019ve decided that to specify any nav item as a dropdown, it will be followed by a unicode arrow \u2013 \u25be (#9662).\n    */\n  }\n  nav ul li a:hover {\n    background: #f2f2f2;\n    color: #fb5958;\n  }\n  nav ul li a:not(:only-child):after {\n    padding-left: 4px;\n    /* content: ' \u25be'; */\n  }\n  nav ul li ul li {\n    min-width: 190px;\n  }\n  nav ul li ul li a {\n    padding: 15px;\n    line-height: 20px;\n  }\n\n  .nav-dropdown-none {\n    position: absolute;\n    z-index: 1;\n    /* Guarantees that the dropdown will display on top of any content. */\n    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n    display: none;\n  }\n\n  .nav-dropdown-display {\n    position: absolute;\n    z-index: 1;\n    /* Guarantees that the dropdown will display on top of any content. */\n    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n    /* display: none; */\n  }\n\n  .nav-mobile {\n    display: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: #fff;\n    height: 70px;\n    width: 70px;\n  }\n\n  @media only screen and (max-width: 800px) {\n    .nav-mobile {\n      display: block;\n    }\n\n    nav {\n      width: 100%;\n      padding: 70px 0 15px;\n      \n    }\n    nav ul {\n      display: none;\n      \n    }\n    nav ul li {\n      float: none;\n      \n    }\n    nav ul li a {\n      padding: 15px;\n      line-height: 20px;\n      \n    }\n    nav ul li ul li a {\n      padding-left: 30px;\n      \n    }\n  }\n  #nav-toggle {\n    position: absolute;\n    left: 18px;\n    top: 22px;\n    cursor: pointer;\n    padding: 10px 35px 16px 0px;\n  }\n  #nav-toggle span,\n  #nav-toggle span:before,\n  #nav-toggle span:after {\n    cursor: pointer;\n    border-radius: 1px;\n    height: 5px;\n    width: 35px;\n    background: #463f3f;\n    position: absolute;\n    display: block;\n    content: '';\n    transition: all 300ms ease-in-out;\n  }\n  #nav-toggle span:before {\n    top: -10px;\n  }\n  #nav-toggle span:after {\n    bottom: -10px;\n  }\n  #nav-toggle.active span {\n    background-color: transparent;\n  }\n  #nav-toggle.active span:before, #nav-toggle.active span:after {\n    top: 0;\n  }\n  #nav-toggle.active span:before {\n    transform: rotate(45deg);\n  }\n  #nav-toggle.active span:after {\n    transform: rotate(-45deg);\n  }\n\n  @media screen and (min-width: 800px) {\n    .nav-list {\n      display: block !important;\n    }\n  }\n  /* \n  .navigation \u2013 the outer wrapper for the navbar. Specifies the height and color, and will stretch the full width of the viewport.\n  */\n  .navigation {\n    height: 70px;\n    background: #ffffff;\n    /* background-color: #63D6E0;\n    padding-right: 10em; */\n  }\n\n  /*\n  .nav-container \u2013 the inner wrapper for the navbar. Defines how far the actual content should stretch.\n  */\n  .nav-container {\n    max-width: 1000px;\n    margin: 0 auto;\n  }\n\n  .brand {\n    position: absolute;\n    padding-left: 5px;\n    padding-top: 5px;\n    float: left;\n    line-height: 70px;\n    font-size: 3em;\n    font-family: 'Libre Barcode 39 Text', cursive;\n  }\n  .brand a,\n  .brand a:visited {\n    color: #463f3f;\n    text-decoration: none;\n  }\n"]))),m=t(14),v=Object(m.b)("user/fetchUser",(function(){return fetch("/me").then((function(e){return e.json()})).then((function(e){return e}))})),k=Object(m.c)({name:"userName",initialState:{value:[],loggedIn:!1,status:"idle"},reducers:{login:function(e,n){"errors"===Object.keys(n.payload).find((function(e){return"errors"===e}))?(e.loggedIn=!1,e.status="rejected"):(e.loggedIn=!0,e.value=[n.payload],e.status="succeeded")},logout:function(e,n){e.loggedIn=!1,e.value={},e.status="succeeded"}},extraReducers:function(e){e.addCase(v.pending,(function(e){e.status="loading"})).addCase(v.fulfilled,(function(e,n){console.log(Object.keys(n.payload).find((function(e){return"errors"===e}))),"errors"===Object.keys(n.payload).find((function(e){return"errors"===e}))?(e.loggedIn=!1,e.status="rejected"):(e.loggedIn=!0,e.value=n.payload,e.status="succeeded")})).addCase(v.rejected,(function(e,n){console.log("errors",n.payload.errors),"Not authorized"===n.payload.errors&&(e.loggedIn=!1,e.status="rejected")}))}}),y=k.actions,w=y.login,S=y.logout,_=k.reducer,N=t(1),C=function(e){e.loggedIn,e.user;return Object(N.jsx)(p,{children:Object(N.jsx)("div",{})})},L=t(3),I=t(7),E=t(13),D=function(){Object(u.c)((function(e){return e.user})),Object(u.c)((function(e){return e.user.loggedIn}));var e=Object(u.b)(),n=Object(b.useState)({email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),t=Object(d.a)(n,2),a=t[0],c=t[1],o=Object(b.useState)([]),r=Object(d.a)(o,2),i=r[0],s=r[1],l=function(e){c(Object(E.a)(Object(E.a)({},a),{},Object(I.a)({},e.target.name,e.target.value)))},j=Object(L.m)();return Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:" Please sign up for an account with your details below:"}),Object(N.jsxs)("form",{onSubmit:function(n){n.preventDefault(),console.log("submit"),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.email,password:a.password,password_confirmation:a.password_confirmation,first_name:a.first_name,last_name:a.last_name})}).then((function(e){return e.json()})).then((function(n){if(n.errors){var t=n.errors.map((function(e){return Object(N.jsx)("li",{children:e})}));s(t)}else e(w(n)),j("/")}))},children:[Object(N.jsxs)("label",{children:["Email Address:",Object(N.jsx)("input",{type:"text",name:"email",value:a.email,maxLength:20,onChange:l})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{children:["First Name:",Object(N.jsx)("input",{type:"text",name:"first_name",value:a.first_name,maxLength:20,onChange:l})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{children:["Last Name:",Object(N.jsx)("input",{type:"text",name:"last_name",value:a.last_name,maxLength:20,onChange:l})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{children:["Password:",Object(N.jsx)("input",{type:"password",name:"password",value:a.password,maxLength:20,onChange:l})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{children:["Password Confirmation:",Object(N.jsx)("input",{type:"password",name:"password_confirmation",value:a.password_confirmation,maxLength:20,onChange:l})]}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{children:"Create Account"})]}),Object(N.jsx)("ul",{children:i})]})};var T=function(e){var n=e.handleSubmit,t=e.errorsList,a=Object(b.useState)({email:"",password:""}),c=Object(d.a)(a,2),o=c[0],r=c[1],i=function(e){r(Object(E.a)(Object(E.a)({},o),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Please login with your email address and password:"}),Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(o)},children:[Object(N.jsxs)("label",{children:["Email Address:",Object(N.jsx)("input",{type:"text",name:"email",value:o.email,onChange:i})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{children:["Password:",Object(N.jsx)("input",{type:"password",name:"password",value:o.password,onChange:i})]}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"button",children:"Login"})]}),Object(N.jsx)("ul",{children:t})]})},P=t(10),B=t.p+"static/media/backpack.20996d74.png",A=function(e){var n=e.logoutUser,t=e.backpackItems,a=(Object(L.m)(),Object(u.c)((function(e){return e.user})),Object(u.c)((function(e){return e.user.loggedIn}))),c=Object(u.b)(),o=Object(b.useState)(!1),r=Object(d.a)(o,2),i=(r[0],r[1],Object(b.useState)(!1)),s=Object(d.a)(i,2);s[0],s[1];return Object(b.useEffect)((function(){c(v())}),[c]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x,{children:Object(N.jsx)("div",{className:"navigation",children:Object(N.jsxs)("div",{className:"nav-container",children:[Object(N.jsx)("div",{className:"brand",children:"Borrow"}),Object(N.jsx)("nav",{children:Object(N.jsx)("ul",{className:"nav-list",children:Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:Object(N.jsx)(P.b,{to:"/titles",children:"Books"})}),Object(N.jsx)("li",{children:Object(N.jsx)(P.b,{to:"/rentals",children:"My Account"})}),a?Object(N.jsx)("li",{children:Object(N.jsx)(P.b,{to:"/logout",onClick:n,children:"Logout"})}):Object(N.jsxs)("ul",{className:"backpack",children:[Object(N.jsx)("li",{children:Object(N.jsx)(P.b,{to:"/login",children:"Login"})}),Object(N.jsxs)("li",{children:[Object(N.jsx)(P.b,{to:"/signup",children:"Signup"})," "]})]}),a?Object(N.jsx)("li",{className:"backpack",children:Object(N.jsxs)(P.b,{to:"/backpack",children:[Object(N.jsx)("img",{src:B}),t]})}):Object(N.jsx)("li",{}),Object(N.jsx)("br",{})]})})})]})})}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(O,{children:a?Object(N.jsxs)("span",{className:"span",children:[3-t," spots left in your backpack!"]}):null})]})},F=t(41),J=t(8),M=Object(m.b)("backpack/fetchBackpack",(function(e){return fetch("/rentals/".concat(e)).then((function(e){return e.json()})).then((function(e){return console.log("data post /rentals fetch:",e),e}))})),R=Object(m.c)({name:"backpack",initialState:{value:[],maxBooks:3,atLimit:!1,confirmed:!1,status:"idle"},reducers:{updateConfirmed:function(e,n){console.log(n.payload),e.confirmed=!0},removeConfirmed:function(e,n){console.log(n.payload),!0===e.confirmed&&(e.confirmed=!1)},setAtLimit:function(e,n){e.atLimit=!0}},extraReducers:function(e){e.addCase(M.pending,(function(e){e.status="loading"})).addCase(M.fulfilled,(function(e,n){"error"===Object.keys(n.payload).find((function(e){return"error"===e}))?(e.status="rejected",e.value=[],e.atLimit=!1):n.payload.length<e.maxBooks?(e.value=n.payload,e.atLimit=!1,e.status="succeeded",n.payload.length>1&&(e.confirmed=n.payload[0].confirmed)):(e.value=n.payload,e.atLimit=!0,e.status="succeeded",e.confirmed=n.payload[0].confirmed)})).addCase(M.rejected,(function(e,n){console.log("errors",n.payload.errors),"Not authorized"===n.payload.errors&&(e.status="rejected")}))}}),z=R.actions,Y=z.updateConfirmed,U=z.removeConfirmed,G=R.reducer,H=function(e){var n=e.title,t=(e.setAtLimit,Object(J.useState)(n.count_available)),a=Object(d.a)(t,2),c=a[0],o=a[1],r=Object(u.c)((function(e){return e.user})),i=Object(u.c)((function(e){return e.user.loggedIn})),s=(Object(u.c)((function(e){return e.backpack.value.length})),Object(u.c)((function(e){return e.backpack.atLimit}))),l=Object(u.b)(),b=new Date,j=(b.getMonth()+2).toString(),h=b.getFullYear().toString(),p=j+h,f=Object(J.useState)(),O=Object(d.a)(f,2),x=(O[0],O[1]),m=Object(J.useState)(s),k=Object(d.a)(m,2),y=k[0],w=k[1];Object(J.useEffect)((function(){l(v()),l(M(p)),console.log("hello from dispatch")}),[l]);var S=function(e,n){var t={month:e,receive_date:"".concat(h,"-").concat(j,"-01"),return_date:"".concat(h,"-").concat(j,"-28"),user_id:r.value.id,book_rentals_attributes:{book_id:n}};console.log("rental:",t),fetch("/rentals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(e.errors)e.errors.map((function(e,n){return Object(N.jsxs)("li",{children:[n+1,". ",e]},n)}));else console.log("post-post fetch:",e),l(M(p))}))};return console.log("atLimit",i,s),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(g,{children:Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("ul",{className:"title",children:[Object(N.jsx)("img",{src:n.image_url,alt:n.title}),Object(N.jsx)("br",{}),Object(N.jsx)("h4",{children:n.title}),Object(N.jsx)("br",{})]}),Object(N.jsxs)("ul",{className:"author",children:[n.author.first_name," ",n.author.last_name,Object(N.jsx)("br",{}),n.rating]}),i&&!1===y&&!1===s&&(c>0||n.count_available>0)?Object(N.jsx)("button",{onClick:function(){if(c>0){var e=c-1;o(e),0===e&&w(!0),fetch("/titles_books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_json:n.id})}).then((function(e){return e.json()})).then((function(e){e.errors?console.log(e.errors):(console.log("post-post fetch:",e),x(e),S(p,e))}))}else o(0),w(!0)},children:"Add to Cart"}):Object(N.jsx)("p",{className:"wishlist",children:"Unavailable"})]})})})})},q=function(e){var n=e.titles.map((function(e){return Object(N.jsx)("div",{children:Object(N.jsx)(H,{title:e})})}));return Object(N.jsx)("div",{children:n})},K=function(e){Object(F.a)(e);var n=Object(J.useState)([]),t=Object(d.a)(n,2),a=t[0],c=t[1],o=Object(J.useState)([]),r=Object(d.a)(o,2),i=(r[0],r[1]);return Object(J.useEffect)((function(){fetch("/titles").then((function(e){return e.json()})).then((function(e){e.errors?(console.log(e.errors),i(e.errors)):(c(e),console.log("data within fetch titles:",e))}))}),[]),Object(N.jsxs)(g,{children:[Object(N.jsx)("h1",{children:"Books"}),Object(N.jsx)(q,{titles:a})]})},Q=function(e){var n=e.loggedIn,t=(e.backpackItems,new Date),a=((t.getMonth()+2).toString()+t.getFullYear().toString()).toString(),c=Object(J.useState)([]),o=Object(d.a)(c,2),r=o[0],i=o[1],s=Object(J.useState)([]),l=Object(d.a)(s,2),b=(l[0],l[1]),j=Object(J.useState)(!1),h=Object(d.a)(j,2),p=h[0],f=h[1],O=Object(J.useState)(!0),x=Object(d.a)(O,2),m=x[0],v=x[1],k=(Object(u.c)((function(e){return console.log("backpack:",e.backpack),e.backpack})),Object(u.c)((function(e){return e.backpack.atLimit})),Object(u.c)((function(e){return e.backpack.confirmed}))),y=Object(u.b)();Object(J.useEffect)((function(){y(M(a))}),[y]),Object(J.useEffect)((function(){fetch("/rentals/".concat(a)).then((function(e){return e.json()})).then((function(e){if(e.errors){console.log(e.errors);var n=e.errors.map((function(e,n){return Object(N.jsxs)("li",{children:[n+1,". ",e]},n)}));b(n)}else console.log("post-post fetch:",e),i(e),f(e.confirmed),0===e.length?v("No items in your backpack."):e.length<3?v("Please add another book to your backpack before confirming."):e.length>0&&v("Backpack confirmed!")}))}),[]);console.log("book rental array!",r);return n?Object(N.jsxs)(g,{children:[Object(N.jsxs)("div",{className:"backpackContainer",children:[Object(N.jsx)("h1",{children:"My Backpack"}),r.length>0?Object(N.jsx)("button",{onClick:function(){fetch("/rentals/".concat(a),{method:"DELETE"}).then((function(e){e.ok&&(i([]),v("No items in your backpack."),y(M(a)))}))},children:"Remove all from backpack"}):null,Object(N.jsx)("br",{}),p||k||r.length<3?Object(N.jsx)("h4",{children:m}):Object(N.jsx)("button",{onClick:function(){fetch("/rentals/".concat(a),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({confirmed:!0})}).then((function(e){return e.json()})).then((function(e){e.errors?b(e.errors):(f(!0),Y(!0))}))},children:"Confirm Backpack"})]}),Object(N.jsx)("br",{}),r.length>0?r.map((function(e){return console.log("book:",e),Object(N.jsx)("div",{children:Object(N.jsx)(g,{children:Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("ul",{className:"title",children:[Object(N.jsx)("img",{src:e.image_url}),Object(N.jsx)("h4",{children:e.title})]}),Object(N.jsxs)("ul",{className:"author",children:[Object(N.jsxs)("li",{children:["Rating: ",e.rating]}),Object(N.jsxs)("li",{children:["Return By: ",e.return_date]}),Object(N.jsx)("br",{})]}),Object(N.jsx)("button",{onClick:function(){return function(e){fetch("/book_rentals/".concat(e.book_rental_id),{method:"DELETE"}).then((function(n){n.ok&&(i((function(n){return n.filter((function(n){return n.book_id!==e.book_id}))})),y(M(a)),y(U()),f(!1),v("Please add another book to your backpack before confirming."))}))}(e)},children:"Remove from Cart"})]})})})})})):null,Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"backpackContainer"})]}):Object(N.jsx)(g,{children:Object(N.jsx)("h1",{children:"Please login to view your backpack"})})},V=function(){var e=Object(L.o)().id,n=Object(J.useState)([]),t=Object(d.a)(n,2),a=t[0],c=t[1],o=Object(J.useState)([]),r=Object(d.a)(o,2),i=(r[0],r[1]),s=Object(J.useState)(""),l=Object(d.a)(s,2),b=l[0],u=l[1],j=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(J.useEffect)((function(){h()}),[]);var h=function(){console.log("id",e),fetch("/rentals/".concat(e)).then((function(e){return e.json()})).then((function(e){if(e.error)i(e.error);else{c(e),console.log("data inside fetch",e);var n=e.findLast((function(e){return e.receive_date})),t=new Date(n.receive_date),a=j[t.getMonth()+1],o=t.getFullYear();a.toString(),o.toString();u(a+" "+o)}}))},p=a.map((function(e){return console.log("book:",e),Object(N.jsx)("div",{children:Object(N.jsx)(g,{children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"card",children:Object(N.jsxs)("ul",{className:"title",children:[Object(N.jsx)("img",{src:e.image_url}),Object(N.jsx)("h4",{children:e.title}),Object(N.jsxs)("li",{children:["Rating: ",e.rating]}),Object(N.jsxs)("li",{children:["Return By: ",e.return_date]}),Object(N.jsx)("br",{})]})})})})})}));return Object(N.jsx)("div",{children:Object(N.jsx)(f,{children:Object(N.jsxs)(g,{children:[Object(N.jsx)("h1",{children:b}),Object(N.jsxs)("div",{className:"backpackContainer",children:[Object(N.jsx)(P.b,{to:"/rentals",children:Object(N.jsx)("button",{className:"button",children:"Back to Past Rentals"})}),p]})]})})})},W=function(e){var n,t=e.loggedIn,a=Object(J.useState)([]),c=Object(d.a)(a,2),o=c[0],r=c[1],i=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(J.useEffect)((function(){fetch("/rentals").then((function(e){return e.json()})).then((function(e){e.errors?console.log(e.errors):r(e)}))}),[]),t?(n=o.map((function(e){var n=new Date(e.receive_date),t=i[n.getMonth()+1],a=n.getFullYear();return Object(N.jsxs)("div",{className:"rental",children:[Object(N.jsxs)("h1",{children:[t," ",a]}),"Received Date: ",e.receive_date,Object(N.jsx)("br",{}),"Return Date: ",e.return_date,Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(P.b,{to:"/rentals/".concat(e.month),children:Object(N.jsx)("img",{className:"backpack",src:B})})]})})),Object(N.jsxs)(f,{children:[Object(N.jsx)("h1",{children:"Order History"}),n]})):Object(N.jsx)("h4",{children:"Please login to view account."})};var X=function(){var e=Object(u.c)((function(e){return e.user})),n=Object(u.c)((function(e){return e.user.loggedIn})),t=Object(b.useState)([]),a=Object(d.a)(t,2),c=a[0],o=a[1],r=Object(L.m)(),i=Object(u.b)(),s=Object(u.c)((function(e){return console.log("backpackstate:",e.backpack.value),e.backpack.value.length})),l=new Date,j=((l.getMonth()+2).toString()+l.getFullYear().toString()).toString();return Object(b.useEffect)((function(){i(v()),i(M(j))}),[i]),Object(N.jsxs)(p,{children:[Object(N.jsx)(A,{backpackItems:s,logoutUser:function(){fetch("/logout",{method:"DELETE",headers:{"Content-type":"application/json"}}).then((function(){r("/"),i(S(e)),console.log("logged out")}))},firstName:e.first_name,lastName:e.last_name,email:e.email}),Object(N.jsxs)(L.c,{children:[Object(N.jsx)(L.a,{path:"/login",element:Object(N.jsx)(T,{loggedIn:n,handleSubmit:function(e){fetch("/login",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.errors?o(e.errors):(i(w(e)),r("/"))}))},errorsList:c})}),Object(N.jsx)(L.a,{path:"/signup",element:Object(N.jsx)(D,{})}),Object(N.jsx)(L.a,{path:"/",element:Object(N.jsx)(C,{user:e,loggedIn:n})}),Object(N.jsx)(L.a,{path:"/rentals",element:Object(N.jsx)(W,{loggedIn:n})}),Object(N.jsx)(L.a,{path:"/titles",element:Object(N.jsx)(K,{})}),Object(N.jsx)(L.a,{path:"/backpack",element:Object(N.jsx)(Q,{loggedIn:n,backpackItems:s})}),Object(N.jsx)(L.a,{path:"rentals/:id",element:Object(N.jsx)(V,{loggedIn:n})})]})]})},Z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,57)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,o=n.getLCP,r=n.getTTFB;t(e),a(e),c(e),o(e),r(e)}))},$=Object(m.a)({reducer:{user:_,backpack:G}});l.a.render(Object(N.jsx)(u.a,{store:$,children:Object(N.jsx)(P.a,{children:Object(N.jsx)(X,{})})}),document.getElementById("root")),Z()}},[[56,1,2]]]);
//# sourceMappingURL=main.8637c563.chunk.js.map